<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple calculator</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Play:wght@400;700&family=Raleway:ital,wght@0,100..900;1,100..900&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="main.css">
</head>
<body>
    
    <div class="container">
        <div class="calculator">
            <form> 
                <div class="display">
                    <input type="text" name="display" placeholder="0" id="input" disabled/>
                </div>
                <div>
                    <input type="button" value="7" class="insert">
                    <input type="button" value="8" class="insert">
                    <input type="button" value="9" class="insert">
                    <input type="button" value="DEL" id="erase">
                    <input type="button" value="AC" id="clear">
                </div>
                <div>
                    <input type="button" value="4" class="insert">
                    <input type="button" value="5" class="insert">
                    <input type="button" value="6" class="insert">
                    <input type="button" value="*" class="insert">
                    <input type="button" value="/" class="insert">
                </div>
                <div>
                    <input type="button" value="1" class="insert">
                    <input type="button" value="2" class="insert">
                    <input type="button" value="3" class="insert">
                    <input type="button" value="+" class="insert">
                    <input type="button" value="-" class="insert">
                </div>
                <div>
                    <input type="button" value="0" class="insert">
                    <input type="button" value="." class="insert">
                    <input type="button" value="="  id="equal">
                </div>
            </form>

        </div>

    </div>



    <!--JS-->
    <script>
        let equal_pressed = 0;

        let button_input = document.querySelectorAll(".insert");

        let input = document.getElementById("input")
        let equal = document.getElementById("equal")
        let clear = document.getElementById("clear")
        let erase = document.getElementById("erase")
        let ans = document.getElementById("ans")

        window.onload = () => {
            input.value = "";
        };


        button_input.forEach((button_class) => {
            button_class.addEventListener("click", () => {
                if(equal_pressed == 1) {
                    input.value = "";
                    equal_pressed = 0;
                }

                input.value += button_class.value;
            });
        });


        equal.addEventListener("click", () => {
            equal_pressed = 1; 
            let enter = input.value;
            try {
                let solution = eval(enter);

                if(Number.isInteger(solution)){
                    input.value = solution;
                }
                else{
                    input.value = solution.toFixed(2);
                }
            } catch (err) {
                alert("SYNTAX ERROR")
            }
        });

        //Clearing the entire Input
        clear.addEventListener("click", () => {
            input.value = "";
        });

        //Erasing a Single Digit
        erase.addEventListener("click", () => {
            input.value = input.value.substr(0, input.value.length -1);
        });





    </script>

</body>
</html>